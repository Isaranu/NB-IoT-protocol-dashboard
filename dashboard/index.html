
<!DOCTYPE HTML>
<html>
<head>
<title>NB-IoT protocol and Dashboard - code.isaranu.com</title>
<meta charset="UTF-8">
<!--meta name="viewport" content="width=device-width, initial-scale=1"-->

<!-- Import CSS file -->
<link rel="stylesheet" href="./src/css/w3.css">
<link rel="stylesheet" href="./src/css/iottweet_widget.css">

  <style>
    /* set other style */
  </style>

</head>

<body>

  <!-- Header -->
  <div class="w3-row" style="background-color: black;">
    <h3 style="color: white;" align="center">NB-IoT dashboard</h3>
    <div align="center">
      <img src="" width="50" height="50" alt="ais-logo"></img>
      <img src="" width="50" height="50" alt="iottweet-logo"></img>
      <img src="" width="50" height="50" alt="tee-logo"></img>
      <span style="color: white;" align="center">dashboard widget powered by<a href="">IoTtweet.com</a></span>
    </div>
  </div>

  <!-- Button panel -->
  <button class="w3-button" id="unlock_widget_btn">unlock widget</button>
  <button class="w3-button" id="lock_widget_btn">lock widget</button>

  <!-- Area for widget creating -->
  <div id="main_dashboard"></div>

<!-- Import JavaScript library -->
<script src="./src/js/jquery-3.0.0.min.js"></script>
<script src="./src/js/jquery-ui.1.12.1.min.js"></script>
<script src="./src/js/Chart.min.js"></script>
<script src="./src/js/justgage.js"></script>
<script src="./src/js/raphael-2.1.4.min.js"></script>
<script src="./src/js/moment.js"></script>
<script src="./src/js/iottweet_widget.js"></script>

<script>

    var test_dataset = [10,20,30,20,10];
    var test_timeset = [
      '5 mins ago',
      '4 mins ago',
      '3 mins ago',
      '2 mins ago',
      '1 min ago'
    ];

    createChart({
      chartTitle: 'Test library chart 1',
      chartWidth: 400,
      chartHeight: 300,
      yaxisLabel: 'random number',
      yMin: 10,
      yMax: 300,
      gridXdisplay: true,
      gridYdisplay: true,
      ChartSpawnPosition: 'main_dashboard',
      type: 'bar',
      lineColor: "rgb(83, 255, 192)",
      fillColor: "rgba(0, 255, 162, 0.3)",
      yData: test_dataset,
      xData: test_timeset,
      theme: 'light',
      spawnAnimate: false,
      spawnPoint: 'center'
    });

    createChart({
      chartTitle: 'Test library chart 1',
      chartWidth: 500,
      chartHeight: 200,
      yaxisLabel: 'random number',
      yMin: 10,
      yMax: 100,
      gridXdisplay: true,
      gridYdisplay: true,
      ChartSpawnPosition: 'main_dashboard',
      type: 'line',
      lineColor: "rgb(83, 255, 192)",
      fillColor: "rgba(0, 255, 162, 0.3)",
      yData: test_dataset,
      xData: test_timeset,
      theme: 'dark',
      spawnAnimate: false,
      spawnPoint: 'top center'
    });

    createChart({
      chartTitle: 'Test library chart 1',
      chartWidth: 300,
      chartHeight: 100,
      yaxisLabel: 'random number',
      yMin: 10,
      yMax: 100,
      gridXdisplay: true,
      gridYdisplay: true,
      ChartSpawnPosition: 'main_dashboard',
      type: 'line',
      lineColor: "rgb(83, 255, 192)",
      fillColor: "rgba(0, 255, 162, 0.3)",
      yData: test_dataset,
      xData: test_timeset,
      theme: 'night',
      spawnAnimate: false
    });

    console.log('chart[] length : ' + chart.length);
    console.log('spawnChartCanvas[] length : ' + spawnChartCanvas.length);

    createGauge({
      gaugeTitle: 'Test gauge',
      gaugeWidth: 250,
      gaugeHeight: 200,
      gaugeTitleFontSize: 10,
      gaugeTitleFontColor: 'rgb(255,0,0)',
      gaugeValueFontColor: 'rgb(0,0,255)',
      initialValue: 20,
      minScale: 10,
      maxScale: 120,
      GaugeSpawnPosition: 'main_dashboard',
      reverseScale: false,
      unitName: 'test unit',
      symbol:'cm',
      pointer: true,
      scaleWidth: 0.2,
      theme: 'light',
      spawnAnimate: false,
      spawnPoint: 'bottom center'
    });

    createGauge({
      gaugeTitle: 'Test gauge',
      gaugeWidth: 200,
      gaugeHeight: 150,
      gaugeTitleFontSize: 10,
      gaugeTitleFontColor: 'rgb(255,128,0)',
      gaugeValueFontColor: 'rgb(0,128,255)',
      initialValue: 110,
      minScale: 10,
      maxScale: 120,
      GaugeSpawnPosition: 'main_dashboard',
      reverseScale: false,
      unitName: 'test unit',
      symbol:'cm',
      pointer: true,
      scaleWidth: 0.2,
      theme: 'dark',
      spawnAnimate: false,
      spawnPoint: 'top center'
    });

    console.log('gauge[] length : ' + gauge.length);
    console.log('spawnGaugeCanvas[] length : ' + spawnGaugeCanvas.length);

    createLabelValue({
      labelValueTitle: 'test label value 1',
      labelValueTitleColor: 'rgb(71,71,71)',
      labelValueWidth: 100,
      labelValueHeight: 75,
      labelValueSpawnPosition: 'main_dashboard',
      labelValueTxt: '70',
      labelValueUnit: ' degree',
      labelValueUnitColor: 'rgb(71,71,71)',
      labelValueFontColor: 'rgb(255,0,0)',
      labelValueFontSize: 18,
      labelValueBGcolor: 'rgb(255,255,255)',
      theme: 'light',
      spawnAnimate: false,
      spawnPoint: 'center'
    });

    createLabelValue({
      labelValueTitle: 'test label value 2',
      labelValueTitleColor: 'rgb(198,198,198)',
      labelValueWidth: 150,
      labelValueHeight: 100,
      labelValueSpawnPosition: 'main_dashboard',
      labelValueTxt: 'Hello',
      labelValueUnit: ' degree',
      labelValueUnitColor: 'rgb(198,198,198)',
      labelValueFontColor: 'rgb(0,255,0)',
      labelValueFontSize: 40,
      labelValueBGcolor: 'rgb(71,71,71)',
      theme: 'dark',
      spawnAnimate: false,
      spawnPoint: 'center'
    });

    createMixedChart({
      type: 'line',
      ChartSpawnPosition: 'main_dashboard',
      chartWidth: 300,
      chartHeight: 200,
      yMin: 10,
      yMax: 100,
      gridXdisplay: true,
      gridYdisplay: true,
      yaxisLabel: 'random number',
      xData: ['1','2','3','4','5','6','7','8','9','10'],
      theme: 'dark',
      spawnPoint: 'center',
      chart1:{
        chartTitle: 'Test library chart 1',
        lineColor: "rgb(83, 255, 192)",
        fillColor: "rgba(0, 255, 162, 0.3)",
        yData: [10,20,30,40,50,60,70,80,90,100]
      },
      chart2:{
        chartTitle: 'Test library chart 1',
        lineColor: "rgb(255, 255, 192)",
        fillColor: "rgba(255, 255, 162, 0.3)",
        yData: [50,40,30,20,10,20,30,40,45,45]
      }
    });

    createMixedChart({
      type: 'bar',
      ChartSpawnPosition: 'main_dashboard',
      chartWidth: 300,
      chartHeight: 200,
      yMin: 10,
      yMax: 100,
      gridXdisplay: true,
      gridYdisplay: true,
      yaxisLabel: 'random number',
      xData: ['1','2','3','4','5','6','7','8','9','10'],
      theme: 'light',
      spawnPoint: 'center',
      chart1:{
        chartTitle: 'Test library chart 1',
        lineColor: "rgb(83, 255, 192)",
        fillColor: "rgba(0, 255, 162, 0.3)",
        yData: [10,20,30,40,50,60,70,80,90,100]
      },
      chart2:{
        chartTitle: 'Test library chart 1',
        lineColor: "rgb(255, 255, 192)",
        fillColor: "rgba(255, 255, 162, 0.3)",
        yData: [50,40,30,20,110,20,30,40,45,45]
      }
    });

    /* Set position of each widget */
    /* setPosition(widget type, widget id, left, top) */
    setPosition('chart', 0, 2, 45);
    setPosition('chart', 1, 410, 44);
    setPosition('chart', 2, 616, 328);
    setPosition('gauge', 0, 154, 364);
    setPosition('gauge', 1, 415 ,328);
    setPosition('label value', 0, 150, 280);
    setPosition('label value', 1, 260, 265);
    setPosition('mixed chart', 0, 610, 45);
    setPosition('mixed chart', 1, 615, 490);

    /* Lock all widget */
    //lockWidget();

    /* ---- End Process ----*/

    /* Simulation update chart, gauge */
    $('#update_data_btn').click(function(){

        console.log('updated !');

        updateChart({
          chart_widget_id: 0,
          yData: [50,40,30,20,10],
          xData: ['hi1','hi2','hi3','hi4','hi5']
        });

        updateChart({
          chart_widget_id: 1,
          yData: [50,40,30,20,10],
          xData: ['hey','hey','hey','hi','hi']
        });

        updateChart({
          chart_widget_id: 2,
          yData: [50,40,30,20,10],
          xData: ['ok','ok','ok','hi','hi']
        });

        updateGauge({
          gauge_widget_id: 0,
          Data: 12.3
        });

        updateGauge({
          gauge_widget_id: 1,
          Data: 22.3
        });

        updateLabelValue({
          label_widget_id: 0,
          Data: 'High'
        });

        updateLabelValue({
          label_widget_id: 1,
          Data: -30.5
        });

        updateMixedChart({
          mixed_chart_widget_id: 0,
          yData_1: [50,40,30,20,10,10,10,10,10,10],
          yData_2: [90,80,70,80,70,80,90,80,70,60],
          xData: ['10','9','8','7','6','5','4','3','2','1']
        });

        updateMixedChart({
          mixed_chart_widget_id: 1,
          yData_1: [50,40,30,20,10,10,10,10,10,10],
          yData_2: [90,80,70,80,70,80,90,80,70,60],
          xData: ['10','9','8','7','6','5','4','3','2','1']
        });

    });

    /* Unlock widget */
    $('#unlock_widget_btn').click(function(){
      unlockWidget();
    });

    /* Lock widget */
    $('#lock_widget_btn').click(function(){
      lockWidget();
    });

</script>

</body>
</html>
